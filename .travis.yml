dist: trusty
sudo: required
git:
  depth: 3
language: ruby
cache: bundler
rvm:
- 2.4.1
addons:
  chrome: stable
env:
  secure: SfXwo6AwagHs58MSqsDILjcMEbtVpzmpXyCnfkZu1r0PJ2ZFxjF9YfyqYpRuJbCMS8OmHauLDYwbQwP0mh8U/EGhGq2ZLTGyjqUyniBWK5oFS2NqKADFhMtH/1G0rlSFDuL4ghHfTY+Wkfmr/Su7bvTyKXeTUzbP7kBxW2F1de9VlDO5WEpfjDPLu+IAI5dLTDypz1Gcvdo139nrBOLYwj+1djhYAhVdOXoaTchb/+8j/9i0r/EJsR0WvOGupVBQnyqCq73VTWkjJe+VbVdSV3CYWuvXWC8yp6ehQZDegPU+9Qy4LaWOQwEQkP0bUIUM4EPHCgqf3647E/0I2h4wjJbisgLO1VRZztfiXAtgjbchEBc4Dc2GzRCBLZijvFCPGK3TF5jpU8LXI8gVtZ5PoTFB67Gv9zSeWa+/Ww20P+8pZNttDInFkw1ZtkOw1F3HgDVgOOANI+5ebv9AvEgK85eo1W/WFrtuYpbtf3QWCWvG1F4qvjAjD+zepCQYwzId9cNVnH0kWVE9DVhzY5CX3e3n6okT2D2SGPTP05NSw6KJGTN7P6NDWDiSQ48f6odJDvLBMrM0MkB/o7gzfJ6gcz7Bb5iiH+AEubNQu8mzkiNBjmz9WnRsmGM/jS1o1ra+BLfX2W/Lnx4zOXO4pX31vRuwBgC/eTIxptPnN7ma06Y=
before_install:
- cd server
- bash scripts/travis-before-install.sh
before_script:
- mysql -e 'CREATE DATABASE IF NOT EXISTS test;'
- mysql -e 'CREATE DATABASE uofmeme_app_test;'
script:
- whereis google-chrome-stable
- google-chrome-stable --version
- whereis chromedriver
- bundle install --path vendor/cache --quiet
- bash scripts/vagrant-tests.sh
install:
- wget -N http://chromedriver.storage.googleapis.com/2.36/chromedriver_linux64.zip
  -P ~/ --quiet
- unzip -q ~/chromedriver_linux64.zip -d ~/
- rm ~/chromedriver_linux64.zip
- sudo mv -f ~/chromedriver /usr/local/share/
- sudo chmod +x /usr/local/share/chromedriver
- sudo ln -s /usr/local/share/chromedriver /usr/local/bin/chromedriver
after_success:
- bash scripts/deploy.sh
notifications:
  email: false
  slack:
    room:
      secure: iDd+YZTKL4vZcJvnxHenlKgtaRLE5Nxuq7ck4fqhvRGHmFHkL1HTpew0koxXLtkCBdmiopC4VTu3L4MafuUztsFWc4b7fMJTLGscXpn6EOy8AXbCQw9e5MLX9/iUEFzE9n3n0OZcE1cTWHLl9L2TrV5byTp3ZXplClJ4+rOQpkhVhkiVD2ZkrGcBw5+E9ZUEszQS51Sw8seVWsIz1l+keq2nzpqd4A+htPzKzVTSc8Std5s+g0SWS9Er/fpEapAz1h48qnUQgDtbcgaDXNWHh9Fv7WpFq3bw57FxXr2qZLkkGjSQomp75PEO5splnrUqgJAP0em+BC9tjVwsnIIKSVmUK/VdhtuSkg2zjkMVCH+83diNB1SNh3VSjdjVE5za9jRkwMaBXknCS7ZzDuz4PLdOkJVGAq8NTe9U4Bkc/CoeYsfcfBHjMqTrLD2maCshu9OkS+HHNPtQ4hi69mzTzJkl3KXLaSqgBYLti7aUGOpYnqaYBZMEwzYsqAKxsf4BtEeznkRwvbFujmZo7S6JlzCrYzBfZkyvBf00MMLxmQF1pcHG264iKUZY3Egq/rLf0RbETbHLSLDx12wSez/EcaFM+uqfty1fjJXFKG/h+rgoaiVewvYoyI2EWCIiqdMHHvLWVenOADRcqdw8ijkEl5mLN4GnGOYwyTNYtkv1YiU=
